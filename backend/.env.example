# =============================================================================
# Rest Treasury Service - Environment Configuration
# =============================================================================
# Copy this file to .env and fill in your actual values
# NEVER commit .env to version control
# =============================================================================

# -----------------------------------------------------------------------------
# Application
# -----------------------------------------------------------------------------
NODE_ENV=development
PORT=3000

# -----------------------------------------------------------------------------
# Database
# -----------------------------------------------------------------------------
# PostgreSQL connection string
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE
DATABASE_URL="postgresql://postgres:postgres@localhost:5432/rest_treasury?schema=public"

# -----------------------------------------------------------------------------
# Security & Encryption
# -----------------------------------------------------------------------------
# AES-256 encryption key (32 bytes / 64 hex characters)
# Generate with: openssl rand -hex 32
ENCRYPTION_KEY=your_32_byte_encryption_key_here_64_hex_chars_000000000000

# JWT secret for authentication tokens
# Generate with: openssl rand -base64 32
JWT_SECRET=your_jwt_secret_here_generate_with_openssl_rand_base64_32

# JWT token expiration (default: 24 hours)
JWT_EXPIRATION=24h

# -----------------------------------------------------------------------------
# Plaid API Configuration
# -----------------------------------------------------------------------------
# Get credentials from: https://dashboard.plaid.com/team/keys
# Sign up for free: https://dashboard.plaid.com/signup

# Plaid Client ID (from dashboard)
PLAID_CLIENT_ID=your_plaid_client_id

# Plaid Secret (sandbox secret from dashboard)
PLAID_SECRET=your_plaid_sandbox_secret

# Plaid Environment: sandbox | development | production
# Use 'sandbox' for testing without real bank credentials
PLAID_ENV=sandbox

# Plaid API Version (recommended: 2020-09-14)
PLAID_VERSION=2020-09-14

# Plaid Products (comma-separated)
# Available: auth,transactions,identity,balance,investments
PLAID_PRODUCTS=auth,transactions

# Plaid Country Codes (comma-separated)
# Available: US,CA,GB,FR,ES,NL,IE
PLAID_COUNTRY_CODES=US

# -----------------------------------------------------------------------------
# Seccl API Configuration (Investment Platform)
# -----------------------------------------------------------------------------
# Option 1: Use Mock Service (recommended for development)
USE_MOCK_SECCL=true

# Option 2: Use Real Seccl Sandbox (requires account)
# Sign up: https://developer.seccl.tech/
# Leave empty if USE_MOCK_SECCL=true

# Seccl API Key (from Seccl developer portal)
SECCL_API_KEY=your_seccl_api_key_here

# Seccl Base URL (sandbox environment)
SECCL_BASE_URL=https://sandbox-api.seccl.tech

# Seccl Client ID (if required)
SECCL_CLIENT_ID=your_seccl_client_id

# -----------------------------------------------------------------------------
# Logging
# -----------------------------------------------------------------------------
# Log level: error | warn | info | debug | verbose
LOG_LEVEL=info

# Log format: json | pretty
# Use 'json' for production, 'pretty' for development
LOG_FORMAT=pretty

# -----------------------------------------------------------------------------
# Rate Limiting
# -----------------------------------------------------------------------------
# Global rate limit (requests per minute)
RATE_LIMIT_TTL=60
RATE_LIMIT_MAX=100

# Financial operations rate limit (requests per minute)
FINANCIAL_RATE_LIMIT_TTL=60
FINANCIAL_RATE_LIMIT_MAX=10

# -----------------------------------------------------------------------------
# CORS Configuration
# -----------------------------------------------------------------------------
# Allowed origins (comma-separated for multiple)
# Use * for development, specific domains for production
CORS_ORIGIN=http://localhost:3000,http://localhost:3001

# -----------------------------------------------------------------------------
# Optional: Redis (for job queues and caching)
# -----------------------------------------------------------------------------
# Uncomment if using Redis for background jobs
# REDIS_HOST=localhost
# REDIS_PORT=6379
# REDIS_PASSWORD=
# REDIS_DB=0

# -----------------------------------------------------------------------------
# Optional: Monitoring & Observability
# -----------------------------------------------------------------------------
# Uncomment if using external monitoring services

# Sentry (error tracking)
# SENTRY_DSN=

# New Relic (APM)
# NEW_RELIC_LICENSE_KEY=
# NEW_RELIC_APP_NAME=rest-treasury-service

# -----------------------------------------------------------------------------
# Testing
# -----------------------------------------------------------------------------
# Test database (separate from development)
TEST_DATABASE_URL="postgresql://postgres:postgres@localhost:5432/rest_treasury_test?schema=public"

# Disable external API calls in tests
MOCK_EXTERNAL_APIS=true
